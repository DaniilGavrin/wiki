<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8" />
        <meta name="generator" content="pandoc" />
        <meta name="viewport" content="width=device-width,initial-scale=1" />
        <link rel="shortcut icon" href="https://c.s-microsoft.com/favicon.ico?v2" />
        <link rel="stylesheet" href="../css/AppToWeb.css">
        <title>AppToWeb</title>
    </head>
    <body>
        <h1 id="apptoweb"><a href="/">AppToWeb</a></h1>
<hr>
Этот раздел посвящен переходу на новый уровень технологий. Сейчас для
нас завершился тот этап на которым мы работали над обычными
<strong>application</strong>. Этот тип приложений полностью устарел, так
как под этот тип приходилось каждый раз собирать приложение что является
очень не эффективно ведь на код уходит намного больше чем хотелось, и
затратно по деньгам, ведь при разработке каждая секунда стоит денег, а
задержки из-за сборки являются критичными. Благодаря переходу на
<strong>PWA</strong> удалось очень сильно сократить время на разработку
приложений, а благодаря отличной инфраструктуре удалось сделать отправку
данных на сервер практически автоматической что позволило
сконцентрироваться на разработке основного кода.
<Hr>
<h5 id="структура-pwa">Структура PWA</h5>
<pre class="tree"><code>public
├── README.md
├── css
│   └── main.css
├── index.html
├── js
│   └── sw.js
└── manifest.json</code></pre>
<hr>
<h5 id="шаблоны-кода">Шаблоны кода:</h5>
<p><strong><em>index.html</em></strong></p>
<div class="sourceCode" id="cb2"><pre
class="sourceCode html"><code class="sourceCode html"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="dt">&lt;!DOCTYPE </span>html<span class="dt">&gt;</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;html</span> <span class="er">lang</span><span class="ot">=</span><span class="st">&quot;en-US&quot;</span><span class="kw">&gt;</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;head&gt;</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">&lt;meta</span> <span class="er">charset</span><span class="ot">=</span><span class="st">&quot;UTF-8&quot;</span> <span class="kw">/&gt;</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">&lt;meta</span> <span class="er">name</span><span class="ot">=</span><span class="st">&quot;viewport&quot;</span> <span class="er">content</span><span class="ot">=</span><span class="st">&quot;width=device-width,initial-scale=1&quot;</span> <span class="kw">/&gt;</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">&lt;link</span> <span class="er">rel</span><span class="ot">=</span><span class="st">&quot;shortcut icon&quot;</span> <span class="er">href</span><span class="ot">=</span><span class="st">&quot;https://c.s-microsoft.com/favicon.ico?v2&quot;</span> <span class="kw">/&gt;</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>    <span class="kw">&lt;link</span> <span class="er">rel</span><span class="ot">=</span><span class="st">&quot;stylesheet&quot;</span> <span class="er">href</span><span class="ot">=</span><span class="st">&quot;css/main.css&quot;</span><span class="kw">&gt;</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>    <span class="kw">&lt;link</span> <span class="er">rel</span><span class="ot">=</span><span class="st">&quot;manifest&quot;</span> <span class="er">href</span><span class="ot">=</span><span class="st">&quot;/manifest.json&quot;</span><span class="kw">&gt;</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>    <span class="kw">&lt;title&gt;</span>Название сайта<span class="kw">&lt;/title&gt;</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;/head&gt;</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;body&gt;</span></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>    <span class="kw">&lt;script&gt;</span></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>         <span class="cf">if</span>(<span class="st">&#39;serviceWorker&#39;</span> <span class="kw">in</span> <span class="bu">navigator</span>) {</span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>        <span class="bu">navigator</span><span class="op">.</span><span class="at">serviceWorker</span><span class="op">.</span><span class="fu">register</span>(<span class="st">&#39;/sw.js&#39;</span><span class="op">,</span> { <span class="dt">scope</span><span class="op">:</span> <span class="st">&#39;/&#39;</span> })<span class="op">;</span></span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>    <span class="kw">&lt;/script&gt;</span></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;/body&gt;</span></span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;/html&gt;</span></span></code></pre></div>
<hr>
<p><strong><em>manifest.json</em></strong></p>
<pre><code>{
    &quot;lang&quot;: &quot;en-us&quot;,
    &quot;name&quot;: &quot;Wiki for BlackGames App&quot;,
    &quot;short_name&quot;: &quot;Wiki documentation&quot;,
    &quot;description&quot;: &quot;Базовая документация по проектам студии BlackGames&quot;,
    &quot;start_url&quot;: &quot;/&quot;,
    &quot;background_color&quot;: &quot;#2f3d58&quot;,
    &quot;theme_color&quot;: &quot;#2f3d58&quot;,
    &quot;orientation&quot;: &quot;any&quot;,
    &quot;display&quot;: &quot;standalone&quot;,
    &quot;icons&quot;: [
        {
            &quot;src&quot;: &quot;/icon512.png&quot;,
            &quot;sizes&quot;: &quot;512x512&quot;
        }
    ]
}</code></pre>
<hr>
<p><strong><em>sw.js</em></strong></p>
<pre><code>const CACHE_NAME = `temperature-converter-v1`;

// Use the install event to pre-cache all initial resources.
self.addEventListener(&#39;install&#39;, event =&gt; {
  event.waitUntil((async () =&gt; {
    const cache = await caches.open(CACHE_NAME);
    cache.addAll([
      &#39;/&#39;
    ]);
  })());
});

self.addEventListener(&#39;fetch&#39;, event =&gt; {
  event.respondWith((async () =&gt; {
    const cache = await caches.open(CACHE_NAME);

    // Get the resource from the cache.
    const cachedResponse = await cache.match(event.request);
    if (cachedResponse) {
      return cachedResponse;
    } else {
        try {
          // If the resource was not in the cache, try the network.
          const fetchResponse = await fetch(event.request);

          // Save the resource in the cache and return it.
          cache.put(event.request, fetchResponse.clone());
          return fetchResponse;
        } catch (e) {
          // The network failed.
        }
    }
  })());
});</code></pre>
<hr>
<p><strong>css файл не является обязательным, так как не участвует в
создании самого PWA, а является обычным файлом стилей, используемым на
сайте</strong></p>
    </body>
</html>